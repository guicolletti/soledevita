{% extends "base.html" %}

{% block title %}Meus Pedidos{% endblock %}

{% block content %}
<section class="meus-pedidos">
    <div class="container">
        <h2>Meus Pedidos</h2>
        
        {% if pedidos %}
        <div class="pedidos-lista">
            {% for pedido in pedidos %}
            <div class="pedido-card">
                <div class="pedido-header">
                    <h3>Pedido #{{ pedido.id[:8] }}</h3>
                    <span class="status {{ pedido.status }}">{{ pedido.status|title }}</span>
                </div>
                <div class="pedido-info">
                    <p><strong>Data:</strong> {{ pedido.created_at|string|truncate(16, true, '') }}</p>
                    <p><strong>Total:</strong> R$ {{ "%.2f"|format(pedido.total) }}</p>
                    <p><strong>Endereço:</strong> {{ pedido.endereco_entrega }}</p>
                    {% if pedido.observacoes %}
                    <p><strong>Observações:</strong> {{ pedido.observacoes }}</p>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="sem-pedidos">
            <p>Você ainda não fez nenhum pedido</p>
            <a href="{{ url_for('cardapio') }}" class="cta-button">Fazer Pedido</a>
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}